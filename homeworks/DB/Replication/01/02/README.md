# Домашнее задание к занятию «Репликация и масштабирование. Часть 2» - Винцентини С.Г.

---

### Задание 1

Опишите основные преимущества использования масштабирования методами:

- активный master-сервер и пассивный репликационный slave-сервер; 
- master-сервер и несколько slave-серверов;


*Дайте ответ в свободной форме.*

--

Активный master + пассивный slave
Главное преимущество - надёжность.Если основной сервер выйдет из строя, резервный можно быстро поднять вместо него. Также на slave можно делать бэкапы или тяжёлые отчёты, не мешая основной работе.

Master + несколько slaves
Тут уже масштабируемость. Все запросы на чтение, а их обычно большинство, можно раскидывать по разным slave-серверам. Это снижает нагрузку на master, ускоряет ответы и позволяет держать реплики в разных регионах для меньших задержек.


---

### Задание 2


Разработайте план для выполнения горизонтального и вертикального шаринга базы данных. База данных состоит из трёх таблиц: 

- пользователи, 
- книги, 
- магазины (столбцы произвольно). 

Опишите принципы построения системы и их разграничение или разбивку между базами данных.

*Пришлите блоксхему, где и что будет располагаться. Опишите, в каких режимах будут работать сервера.* 

--

<img width="857" height="874" alt="image" src="https://github.com/user-attachments/assets/eb1fffb1-6f03-41a2-95c4-015024a16f61" />


Пользователей и магазины разнесу по регионам (горизонтальный шардинг): Европа, Азия, Северная Америка - каждый регион в отдельном шарде. 
Так данные будут ближе к пользователям, а нагрузка распределена.
Книги оставлю в одной общей базе - каталог обычно один для всех, и он не так сильно растёт.

Схема работы:
В каждом регионе - свой master для записи и 1–2 slave-сервера для чтения и отказоустойчивости.
База книг - один master + реплики для балансировки чтения.
Перед всем этим прокси-слой, который решает, в какой шард отправить запрос (по региону пользователя).
Такая архитектура легко масштабируется, устойчива к сбоям и не перегружает отдельные серверы.


